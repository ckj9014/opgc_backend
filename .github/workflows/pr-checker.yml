name: PR merge Checker

on:
  pull_request:
    branches: [main, master, 'release/**']
    types: [opened, reopened]
  pull_request_review:
    types: [ submitted ]

jobs:
  pr-on:
    runs-on: ubuntu-latest
    steps:
      - name: base branch is release
        if: ${{ startsWith(github.base_ref, 'release/') }}
        uses: peter-evans/create-or-update-comment@v3
        with:
          issue-number: ${{ github.event.pull_request.number }}
          body: |
            ê°œë°œì ì¹œêµ¬ë“¤~ release ë¸Œëœì¹˜ì—ëŠ” ìŠ¤ì¿¼ì‹œ ë¨¸ì§€ í•´ì•¼ì¥¬!ğŸ«  
          reactions: rocket

      - name: base branch is main
        if: ${{ github.base_ref == 'main' }}
        uses: peter-evans/create-or-update-comment@v3
        with:
          issue-number: ${{ github.event.pull_request.number }}
          body: |
            ê°œë°œì ì¹œêµ¬ë“¤~ master(main) ë¸Œëœì¹˜ì—ëŠ” merge commitì„ í•´ì•¼ì¥¬ ğŸ« 
          reactions: rocket

  approved:
    if: github.event.review.state == 'APPROVED'
    runs-on: ubuntu-latest
    steps:
      - run: echo "This PR was approved"
      - name: approve submit
        uses: peter-evans/create-or-update-comment@v3
        with:
          issue-number: ${{ github.event.pull_request.number }}
          body: |
            ì–´í”„ë¡œë¸Œ í–ˆë‹¤
          reactions: rocket
